<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kastro's Music App</title>
    <link rel="stylesheet" href="/css/style.css"> <!-- Link to external CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!-- For icons -->
</head>
<body>
    <div class="container">
        <img class="logo" src="https://storage.googleapis.com/pr-newsroom-wp/1/2023/05/Spotify_Primary_Logo_RGB_Green.png" alt="Spotify Logo">
        <h1>Kastro's Music App</h1>
        
        <label for="language">Choose Language:</label>
        <select id="language">
            <option value="">Select a language</option>
            <option value="Telugu">Telugu</option>
            <option value="Tamil">Tamil</option>
            <option value="Malayalam">Malayalam</option>
            <option value="Kannada">Kannada</option>
            <option value="Hindi">Hindi</option>
        </select>

        <div id="song-list" style="margin-top: 20px;"></div>
        
        <div class="social-icons">
            <a href="https://www.youtube.com/playlist?list=PLs-PsDpuAuTeNx3OgGQ1QrpNBo-XE6VBh" target="_blank">
                <button><i class="fab fa-youtube"></i> Docker by Kastro</button>
            </a>
            <a href="https://www.youtube.com/watch?v=opJAfDOCZuI" target="_blank">
                <button><i class="fab fa-youtube"></i> Nexus by Kastro</button>
            </a>
            <a href="https://www.linkedin.com/in/kastro-kiran/" target="_blank">
                <button><i class="fab fa-linkedin"></i> Connect with me</button>
            </a>
        </div>

        <img class="profile-img" src="https://media.licdn.com/dms/image/v2/D5603AQHJB_lF1d9OSw/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1718971147172?e=1733961600&v=beta&t=c5vIr7AI17HYzQ150SHGoz2AJ04Sfj_mIA80iZCpJdo" alt="Kastro's Profile Picture">

        <!-- Add audio element -->
        <audio id="audio-player" controls style="display: none;"></audio>
        <div class="visualizer" id="visualizer"></div>
    </div>

    <script>
        const songs = {
            Telugu: { 
                title: "Chuttamalle (from Devara Part 1)", 
                url: "https://www.jiosaavn.com/songs/chuttamalle-from-devara-part-1/NR4YAhNRQFc",
                image: "https://cdn.pixabay.com/photo/2018/05/08/21/29/spotify-3384019_1280.png" 
            },
            Tamil: { 
                title: "Tiger Ka Hukum", 
                url: "https://www.jiosaavn.com/album/tiger-ka-hukum/UIyRZsBq4DE_",
                image: "https://cdn.pixabay.com/photo/2018/05/08/21/29/spotify-3384019_1280.png" 
            },
            Malayalam: { 
                title: "Aethu Kari Raavilum", 
                url: "https://wynk.in/music/song/aethu-kari-raavilum/pp_5143996", 
                image: "https://cdn.pixabay.com/photo/2018/05/08/21/29/spotify-3384019_1280.png" 
            },
            Kannada: { 
                title: "Salaam Rocky Bhai", 
                url: "https://www.jiosaavn.com/song/salaam-rocky-bhai/PhBdXEFaUmo", 
                image: "https://cdn.pixabay.com/photo/2018/05/08/21/29/spotify-3384019_1280.png" 
            },
            Hindi: { 
                title: "Yeh Raatein Yeh Mausam", 
                url: "https://gaana.com/lyrics/yeh-raaten-yeh-mausam-11", 
                image: "https://cdn.pixabay.com/photo/2018/05/08/21/29/spotify-3384019_1280.png" 
            }
        };

        document.getElementById("language").addEventListener("change", function () {
            const selectedLang = this.value;
            const songListDiv = document.getElementById("song-list");
            songListDiv.innerHTML = ""; // Clear previous songs

            if (selectedLang in songs) {
                const song = songs[selectedLang];
                const songItem = document.createElement("div");
                songItem.className = "song-item";
                songItem.innerHTML = `
                    <img src="${song.image}" width="30" alt="Song Image"> 
                    ${song.title} 
                    <button onclick="playSong('${song.url}')">Play</button>
                `;
                songListDiv.appendChild(songItem);
            }
        });

        function playSong(url) {
            const audioPlayer = document.getElementById("audio-player");
            audioPlayer.src = url; // Set the audio source
            audioPlayer.play(); // Play the audio
            visualizeSound(); // Call the function to visualize sound
        }

        function visualizeSound() {
            const visualizer = document.getElementById("visualizer");
            visualizer.innerHTML = ""; // Clear previous visualizations

            const bars = 10; // Number of bars
            for (let i = 0; i < bars; i++) {
                const bar = document.createElement("div");
                bar.className = "bar";
                visualizer.appendChild(bar);
            }

            // Animation for bars
            setInterval(() => {
                const height = Math.random() * 100; // Random height for bars
                const barElements = document.querySelectorAll(".bar");
                barElements.forEach((bar) => {
                    bar.style.height = `${height}px`;
                });
            }, 500); // Update every 500ms
        }
    </script>
</body>
</html>
